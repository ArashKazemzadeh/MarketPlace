@using Application.IServices.Visitors
@using Application.IServices.AdminServices.UserService.Commands
@inject IHttpContextAccessor HttpContextAccessor
@inject IAccountService accountService

<!DOCTYPE html>
<html dir="rtl" class="no-~/templatestore/js">
<head>
    <!--
    Kool Store Template
    http://www.templatemo.com/preview/templatemo_428_kool_store
    -->
    <meta charset="utf-8">
    <title>دال </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.rtl.min.css" integrity="sha384-gXt9imSW0VcJVHezoNQsP+TNrjYXoGcrqBZJpry9zJt8PCQjobwmhMGaDHTASo9N" crossorigin="anonymous">
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800" rel="stylesheet">
    <link rel="stylesheet" href="~/templatestore/css/bootstrap.css">
    <link rel="stylesheet" href="~/templatestore/css/normalize.min.css">
    <link rel="stylesheet" href="~/templatestore/css/font-awesome.min.css">
    <link rel="stylesheet" href="~/templatestore/css/animate.css">
    <link rel="stylesheet" href="~/templatestore/css/templatemo-misc.css">
    <link rel="stylesheet" href="~/templatestore/css/templatemo-style.css">
    <script src="~/templatestore/js/vendor/modernizr-2.6.2.min.js"></script>
</head>

<body style="font-family: Vazir;" >

    <header class="site-header">
        <div class="top-header">
            <div class="container">
                <div class="row">
                    <div class="col-md-10 col-sm-10">
                        <div class="top-header-left">
                            @if (HttpContextAccessor.HttpContext.User.Identity.IsAuthenticated)
                            {


                                var userId = await accountService.GetLoggedInUserId();
                                var user = await accountService.FindUserByIdAsync(userId);
                              
                              
                                <a asp-controller="Account" asp-action="Logout">خروج</a>
                                @if (HttpContextAccessor.HttpContext.User.IsInRole("Seller"))
                                {
                                    <a asp-area="Seller" asp-controller="Home" asp-action="Index">ورود به فروشگاه</a>
                                }
                                else
                                {
                                    <a asp-controller="Account" asp-action="RegisterSeller">ایجاد فروشگاه</a>
                                }
                                <span class="mx-2" style="color: dodgerblue">@user.FullName خوش آمدی!</span> 
                            }
                            else
                            {
                                <a asp-controller="Account" asp-action="Register">ثبت نام</a>

                                <a asp-controller="Account" asp-action="Login">ورود</a>

                            }
                        </div>

                    </div> <!-- /.col-md-6 -->
                    <div class="col-md-2 col-sm-2">
                        <div class="social-icons">
                            <ul>

                                @if (HttpContextAccessor.HttpContext.User.Identity.IsAuthenticated)
                                {
                                    <li><a title="پروفایل" asp-area="Customer" asp-controller="Home" asp-action="Detail"><img src="~/templatestore/images/profile.png" width="110%" /> </a></li>
                                    <li><a title="سبد خرید" asp-area="" asp-controller="Cart" asp-action="MyCartsUnRegistered"><img src="~/templatestore/images/cart.png" width="110%" /></a></li>

                                }
                            </ul>

                            <div class="clearfix"></div>
                        </div> <!--  -->
                    </div> <!-- /.col-md-6 -->
                </div> <!-- /.row -->
            </div> <!-- /.container -->
        </div> <!-- /.top-header -->
        <!-- /.main-header -->
        <div class="main-nav">
            <div class="container">
                <div class="row">
                    <div class="col-md-6 col-sm-7">
                        <div class="list-menu">
                            <ul>
                                <li><a asp-controller="Home" asp-action="Index">خانه</a></li>
                                <li><a asp-controller="Booth" asp-action="GetAllCategories">دسته بندی</a></li>
                                <li><a asp-controller="Auction" asp-action="Index"> مزایده ها</a></li>
                            </ul>
                        </div> <!-- /.list-menu -->
                    </div> <!-- /.col-md-6 -->
                    <div class="col-md-6 col-sm-5">
                        <div class="notification">
                            <span>با هم ارزش واقعی هر چیزی رو کشف می کنیم</span>
                        </div>
                    </div> <!-- /.col-md-6 -->
                </div> <!-- /.row -->
            </div> <!-- /.container -->
        </div> <!-- /.main-nav -->
    </header> <!-- /.site-header -->
    <!-- /.content-section -->
    @RenderBody()
    <!-- /.content-section -->
    <footer class="site-footer">
        <!-- /.our-partner -->
        <div class="main-footer">
            <div class="container">
                <div class="row">
                    <div class="col-md-3">
                        <div class="footer-widget">
                            <h3 class="widget-title">درباره ی ما</h3>
                            ما یک شرکت تجاری نرم افزاری آزاد هستیم که با هدف کشف ارزش کالاها شروع به کار کردیم.
                            <ul class="follow-us">
                                <li><a href="#"><i class="fa fa-facebook"></i>Facebook</a></li>
                                <li><a href="#"><i class="fa fa-twitter"></i>Twitter</a></li>
                            </ul> <!-- /.follow-us -->
                        </div> <!-- /.footer-widget -->
                    </div> <!-- /.col-md-3 -->
                    <div class="col-md-3">
                        <div class="footer-widget">
                            <h3 class="widget-title">چرا ما را برگزینید؟</h3>
                            فروشگاه دال یک بسترامن برای برگذاری مزایده های شماست که به شما کمک می کند هر آن چه که می خواهید با ارزش واقعی آن به فروش برسانید.
                            <br><br>به جای ریسک های غیر قابل پیش بینی هیجان خرید و فروش امن مزایده ای را تجربه کنید.
                            <br><br>از مقاله های آموزشی ترجمه شده ما رایگان استفاده کنید.<a rel="nofollow" href="http://unsplash.com"></a>
                        </div> <!-- /.footer-widget -->
                    </div> <!-- /.col-md-3 -->
                    <div class="col-md-2">
                        <div class="footer-widget">
                            <h3 class="widget-title">لینک های پر کاربرد</h3>
                            <ul>
                                <li><a href="#">فروشگاه ها</a></li>
                                <li><a href="#">غرفه ها</a></li>
                                <li><a href="#">مزایده ها</a></li>

                                <li><a href="#">دسته بندی کالا ها</a></li>
                            </ul>
                        </div> <!-- /.footer-widget -->
                    </div> <!-- /.col-md-2 -->
                    <div class="col-md-4">
                        <div class="footer-widget">
                            <h3 class="widget-title">پیام رسان</h3>
                            <div class="newsletter">
                                <form action="#" method="get">
                                    <p>برای اطلاع از زمان عرضه مزایده های جدید، برای به روز رسانی های منظم ما ثبت نام کنید.</p>
                                    <input type="text" title="Email" name="email" placeholder="ایمیل شما">
                                    <input type="submit" class="s-button" value="ثبت نام" name="Submit">
                                </form>
                            </div> <!-- /.newsletter -->
                        </div> <!-- /.footer-widget -->
                    </div> <!-- /.col-md-4 -->
                </div> <!-- /.row -->
            </div> <!-- /.container -->
        </div> <!-- /.main-footer -->
    </footer> <!-- /.site-footer -->
    @RenderSection("scripts", required: false)
    <script src="~/templatestore/js/vendor/jquery-1.10.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="~/templatestore/js/vendor/jquery-1.10.1.min.js"><\/script>')</script>
    <script src="~/templatestore/js/jquery.easing-1.3.js"></script>
    <script src="~/templatestore/js/bootstrap.js"></script>
    <script src="~/templatestore/js/plugins.js"></script>
    <script src="~/templatestore/js/main.js"></script>
</body>
</html>